<applications>

  <div th:if="${not #lists.isEmpty(applications)}">
    <table class="table">
      <thead>
      <tr>
        <th>Company Name</th>
        <th>Purpose</th>
        <th>Operating Statute</th>
        <th>HQ Location</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="app : ${applications}">
        <td th:text="${app.company}"></td>
        <td th:text="${app.purpose}"></td>
        <td th:text="${app.operatingStatute}"></td>
        <td th:text="${app.HQ}"></td>
        <td th:if="${app.id}">
          <a class="btn btn-info" th:href="@{/applications/{id}(id=${app.id})}">Edit</a>
          <button type="button" class="btn btn-danger" th:id="${app.id}" name="deleteApplication">
            <i class="remove user icon"></i>Delete
          </button>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
  <div th:if="${#lists.isEmpty(applications)}">
    No Applications found!
  </div>
  <a href="/applications/new" class="btn btn-primary" role="button">Create new Application</a>
  <script type="text/javascript">
    $("[name='deleteApplication']").click(function () {
      var urlCall = "/applications/";
      $.ajax({
        url: urlCall + $(this).attr('id'),
        type: 'DELETE',
        success: function (result) {
          console.log(result);
          $(location).attr("href", value="/applications");
        },
        error: function (result) {
          console.log(result);
        },
      });
    });
  </script>
</applications>
