<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:insert="fragments/header :: header"></head>

<body>
<!-- Include the header fragment -->
<div th:insert="fragments/menu :: menu"></div>
<main>
  <div class="container">
    <form action="#" th:action="@{/applications/new}" th:object="${application}" method="post">

      <div class="form-group">
        <input type="hidden" id="id" class="form-control" th:field="*{id}">
      </div>

      <!-- Dropdown menu for selecting the company -->
      <div class="form-group">
        <label for="company">Select Company</label>
        <select id="company" class="form-control" th:field="*{legalRepresentative.company}">
          <option th:each="company : ${legalRepresentative.companies}" th:value="${company}" th:text="${company}"></option>
        </select>
      </div>

      <div class="form-group">
        <label for="purpose">Purpose</label>
        <input type="text" id="purpose" class="form-control" th:field="*{purpose}">
      </div>
      <div class="form-group">
        <label for="operatingStatute">Operating Statute</label>
        <input type="text" id="operatingStatute" class="form-control" th:field="*{operatingStatute}">
      </div>
      <div class="form-group">
        <label for="HQ">HQ Location</label>
        <input type="text" id="HQ" class="form-control" th:field="*{HQ}">
      </div>

      <!-- Hidden fields for legal representative details -->
      <input type="hidden" id="legal_representative_id" th:field="*{legalRepresentative.legalRepresentativeId}">
      <button type="submit" class="btn btn-primary">Submit</button>
      <div th:if="${#fields.hasErrors('*')}">
        <p th:each="error : ${#fields.errors('*')}" th:text="${error}">Error</p>
      </div>
    </form>
  </div>
</main>

<!-- Include the footer fragment -->
<div th:replace="fragments/footer :: footer"></div>
</body>
</html>
